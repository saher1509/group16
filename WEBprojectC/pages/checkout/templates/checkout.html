{% extends 'base.html' %}

{% set page_head_title = 'Checkout' %}

{% block page_head_css %}
<link rel="stylesheet" href="{{ url_for('checkout.static', filename='css/checkout.css') }}"/>
{% endblock %}

{% block page_body_main_content %}
<h1>CREATE ORDER</h1>
{% if success %}
<!-- Success message -->
<div id="success-message">
    <h2>Thank you! {{ first_name }} {{last_name}}</h2>
    <p>Your order has been placed successfully.</p>
    <button onclick="window.location.href='/'">Go to Home Page</button>
</div>
{% else %}

<form id="order-form" method="POST" action="/cart/checkout" novalidate>
    <section class="billing-shipping">
        <h2>Shipping information</h2>
        <div>
            <label for="first-name">First name <span class="required">*</span></label>
            <input type="text" id="first-name" name="first-name" placeholder="Enter your first name..">
            <span id="first-name-error" class="error-message"></span>
        </div>
        <div>
            <label for="last-name">Last name <span class="required">*</span></label>
            <input type="text" id="last-name" name="last-name" placeholder="Enter your last name..">
            <span id="last-name-error" class="error-message"></span>
        </div>
        <div>
            <label for="city">City <span class="required">*</span></label>
            <input type="text" id="city" name="city" placeholder="Enter your city..">
            <span id="city-error" class="error-message"></span>
        </div>
        <div>
            <label for="street-address">Street address <span class="required">*</span></label>
            <input type="text" id="street-address" name="street-address" placeholder="Enter your street-address..">
            <span id="street-address-error" class="error-message"></span>
        </div>
        <div>
            <label for="phone">Phone <span class="required">*</span></label>
            <input type="text" id="phone" name="phone" placeholder="Enter your phone number..">
            <span id="phone-error" class="error-message"></span>
        </div>
        <div>
            <label for="email">Email address <span class="required">*</span></label>
            <input type="email" id="email" name="email" placeholder="Enter your email..">
            <span id="email-error" class="error-message"></span>
        </div>
        <div>
            <label for="notes">Order notes (optional)</label>
            <textarea id="notes" name="notes" placeholder="Enter your notes.."></textarea>
        </div>
        <input type="hidden" id="cart-items" name="cartItems">
    </section>

    <div class="order-summary">
        <h2>Your Order</h2>
        <table class="order-table">
            <thead>
            <tr>
                <th>Product</th>
                <th>Subtotal</th>
            </tr>
            </thead>
            <tbody id="order-items">
            </tbody>
            <tfoot>
            <tr>
                <th>Total</th>
                <td id="order-subtotal">â‚ª0.00</td>
            </tr>
            </tfoot>
        </table>
        <button type="submit">Place Order</button>
    </div>
</form>

{% endif %}

{% endblock %}

{% block page_body_js %}
<script src="{{ url_for('checkout.static', filename='js/checkout.js') }}"></script>
<script src="{{ url_for('shop.static', filename='js/shop.js') }}"></script>
{% endblock %}
